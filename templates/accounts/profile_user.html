<title>Người dùng</title>
{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}
{% block content %}
{% block heading %}

{% endblock heading %}
<link href="{% static 'css/lightbox.min.css' %}" rel="stylesheet" />
<script src="{% static 'js/lightbox.min.js' %}"></script>
<style>
    html, body{
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-image: url('/static/media/pexels-eberhard-grossgasteiger-2310713.jpg');
        background-size: cover;
        background-position: relative;
        background-repeat: repeat;
        height: fit-content;

    }
    .avatar {
        max-width: 50px;
        max-height: 35px;
        width: 50px;
        height: 35px;
        border-radius: 10%; 
    }
    .profile-image {
        width: 300px;  
        height: 300px;  
        border-radius: 10%;  /* Làm tròn ảnh nếu muốn */
        display: block;

    }
 #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top-color: #3498db;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
.dropdown-item:hover {
        background-color: #080a91;
        color: #ffffff; /* Màu nền bạn muốn thay đổi khi di chuột qua */
    }
.dropdown-item.delete-item:hover {
        background-color: #ffffff; /* Màu nền khi di chuột qua */
        color: #ffffff; /* Màu chữ khi di chuột qua */
    }
</style>
<div id="loading-screen">
        <div class="spinner"></div>
    </div>
    <div id="content" style="display:none;">
<div class="container-fluid">
    <div class="row p-5 mb-4 bg-light rounded-4">
        <div class="col-md-8">
            <div class="py-8">
                <h1 class="display-6 fw-bold">Thông tin cá nhân</h1>
            </div>
<div class = 'col-md-6'>
            <p>
		<a href="{% if user.avatar_medium %}{{ user.avatar_medium.url }}{% else %}{% static 'media/avatars/avt.jpg' %}{% endif %}" data-lightbox="profile-image" data-title="{{user.last_name}} {{user.first_name}}">
                <img src="{% if user.avatar_medium %}{{ user.avatar_medium.url }}{% else %}{% static 'media/avatars/avt.jpg' %}{% endif %}" class="profile-image img-fluid" alt="avatar"></a>
	   </p>
</div>
        </div>
        <div class="col-md-4 col-sm-12 order-md-1 order-12">
            <p></p>
            <div class="card shadow">
                <div class="card-body">
                    <div class="py-6">
                        <center><h2 class="display-6">Thông tin</h2>
                        <p>Thông tin về người dùng ứng dụng.</p></center>
                        <ul class="icon-list">
                            <li><b><a style="color:darkblue;">Họ và tên:</a></b> {{user.last_name}} {{user.first_name}}</li>
                            <li><b><a style="color:darkblue;">Chức vụ:</a></b> {{user.title}}</li>
                            <li><b><a style="color:darkblue;">Phòng ban:</a></b> {{user.work_place}}</li>
                            <li><b><a style="color:darkblue;">Ngày tháng năm sinh:</a></b> {{user.date_of_birth}}</li>
                            <li><b><a style="color:darkblue;">Giới tính:</a></b> {{user.gender}}</li>
                            <li><b><a style="color:darkblue;">Địa chỉ Email:</a></b> {{user.email}}</li>
                            <li><b><a style="color:darkblue;">Số điện thoại:</a></b> {{user.phone}}</li>
                            
                            <li><b><a style="color:darkblue;">Nơi làm việc:</a></b> {{user.school}}</li>
                        </ul>
                 
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
        document.addEventListener("DOMContentLoaded", function() {
            var loadingScreen = document.getElementById("loading-screen");
            var content = document.getElementById("content");

            function checkLoadingProgress() {
                var totalResources = document.images.length;
                var loadedResources = 0;

                for (var i = 0; i < totalResources; i++) {
                    if (document.images[i].complete) {
                        loadedResources++;
                    }
                }

                var loadPercentage = (loadedResources / totalResources) * 100;

                if (loadPercentage >= 70) {
                    loadingScreen.style.display = "none";
                    content.style.display = "block";

                    // Khi loading screen ẩn, cho phép cuộn trang
                    document.body.style.overflow = "auto";
                    document.documentElement.style.overflow = "auto";
                } else {
                    window.requestAnimationFrame(checkLoadingProgress);
                }
            }

            checkLoadingProgress();
        });
    </script>
{% endblock content %}